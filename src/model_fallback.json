{
  "model_fallback_chain": {
    "description": "Global model hierarchy for the Agent Coordination System. Model names match the Antigravity model selector.",
    "tiers": [
      {
        "tier": 1,
        "role": "The Architect",
        "model": "Claude Opus 4.6 (Thinking)",
        "strengths": [
          "Deep reasoning with extended thinking",
          "Architectural decisions",
          "Subtle debugging",
          "DRY principles"
        ],
        "use_when": "Complex logic, code review, edge-case analysis, design decisions"
      },
      {
        "tier": 2,
        "role": "The Context King",
        "model": "Gemini 3.1 Pro (High)",
        "strengths": [
          "Large context window",
          "Multi-file scanning",
          "Cross-file pattern recognition",
          "Codebase navigation"
        ],
        "use_when": "Context overflow from Tier 1, large refactoring, multi-file analysis"
      },
      {
        "tier": 3,
        "role": "The Speed Specialist",
        "model": "Gemini 3 Flash",
        "strengths": [
          "Fast iteration",
          "Simple tasks",
          "Documentation",
          "Formatting",
          "Quick fixes"
        ],
        "use_when": "Simple cleanup, docs, formatting, low-complexity changes"
      }
    ],
    "available_models": {
      "description": "Full catalog of models in the Antigravity model selector. Swap tiers by changing the model field above.",
      "models": [
        {
          "name": "Claude Opus 4.6 (Thinking)",
          "family": "claude",
          "tier_recommendation": 1,
          "notes": "Deepest reasoner, extended thinking"
        },
        {
          "name": "Claude Sonnet 4.6 (Thinking)",
          "family": "claude",
          "tier_recommendation": 2,
          "notes": "Fast reasoning with thinking, good balance"
        },
        {
          "name": "Gemini 3.1 Pro (High)",
          "family": "gemini",
          "tier_recommendation": 2,
          "notes": "Latest Gemini Pro, high quality mode"
        },
        {
          "name": "Gemini 3.1 Pro (Low)",
          "family": "gemini",
          "tier_recommendation": 3,
          "notes": "Latest Gemini Pro, faster/cheaper mode"
        },
        {
          "name": "Gemini 3 Flash",
          "family": "gemini",
          "tier_recommendation": 3,
          "notes": "Fast iteration, speed over depth"
        },
        {
          "name": "Gemini 3 Pro Image",
          "family": "gemini",
          "tier_recommendation": 2,
          "notes": "Image-capable Gemini Pro"
        },
        {
          "name": "GPT-OSS 120B (Medium)",
          "family": "gpt",
          "tier_recommendation": 2,
          "notes": "Open-source GPT, medium quality"
        }
      ]
    },
    "discovery": {
      "description": "How to detect available models dynamically. The Antigravity language server provides the live model list.",
      "state_db": {
        "windows": "%APPDATA%/Antigravity/User/globalStorage/state.vscdb",
        "macos": "~/Library/Application Support/Antigravity/User/globalStorage/state.vscdb",
        "linux": "~/.config/Antigravity/User/globalStorage/state.vscdb"
      },
      "api_endpoint": "/exa.language_server_pb.LanguageServerService/GetUserStatus",
      "notes": "The language server returns ClientModelConfig objects with label, modelId, quotaInfo. The Antigravity Cockpit extension (jlcodes.antigravity-cockpit) reads this live. If the available_models list looks stale, run /health to verify."
    },
    "task_routing": {
      "description": "Maps remaining work type to the best model for that work",
      "routes": {
        "deep_debugging": "Claude Opus 4.6 (Thinking)",
        "architecture_design": "Claude Opus 4.6 (Thinking)",
        "edge_case_analysis": "Claude Opus 4.6 (Thinking)",
        "large_refactoring": "Gemini 3.1 Pro (High)",
        "multi_file_scanning": "Gemini 3.1 Pro (High)",
        "cross_file_patterns": "Gemini 3.1 Pro (High)",
        "docs_formatting": "Gemini 3 Flash",
        "quick_fixes": "Gemini 3 Flash",
        "simple_cleanup": "Gemini 3 Flash"
      }
    },
    "trigger_routing": {
      "description": "Overrides task routing when specific triggers fire",
      "context_overflow": "largest_context_window",
      "reasoning_loop": "deepest_reasoner",
      "user_initiated": "task_based"
    },
    "policies": {
      "on_context_limit": "handoff_and_resume",
      "on_reasoning_failure": "escalate",
      "reasoning_failure_threshold": 3,
      "context_compression_interval_tokens": 50000,
      "context_warning_threshold_percent": 85
    }
  },
  "auto_mode_settings": {
    "description": "Settings keys injected by auto_mode_toggle scripts. Update these if the actual Antigravity settings schema differs.",
    "verified": false,
    "keys": {
      "auto_run_commands": "cascade.autoRunCommands",
      "allow_in_background": "cascade.allowInBackground",
      "auto_approve_edits": "cascade.autoApproveEdits"
    },
    "notes": "Keys found in minified extension JS (autoRun, autoApprove, allowInBackground) but exact dotted names unverifiable from binary. Set verified=true once confirmed via live Antigravity session. Current values are best-guess from Cockpit extension type system."
  }
}